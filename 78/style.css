:root{
  /* Layout */
  --hero-h-desktop: 95vh;
  --hero-h-mobile: 100svh;
  --hero-min: 700px;
  --maxw: 1100px;

  /* Palette */
  --accent:#f59e0b;
  --accent-2:#f7b733;
  --ink:#0f172a;
  --muted:#64748b;
  --border:#e6e8ef;
  --ok:#16a34a;
  --card:#ffffff;
  --surface:#f9fafb;
}

/* Base */
*{box-sizing:border-box;margin:0;padding:0}
html,body{height:100%}
body{
  font:16px/1.45 system-ui,-apple-system,"Segoe UI",Roboto,Arial,sans-serif;
  color:var(--ink); background:var(--surface);
  -webkit-font-smoothing:antialiased; -moz-osx-font-smoothing:grayscale;
  font-variant-numeric:tabular-nums;
}

/* ================== HERO ================== */
header.hero{
  position:relative; height:var(--hero-h-desktop); min-height:var(--hero-min);
  overflow:hidden; isolation:isolate;
}
header.hero::before{
  content:""; position:absolute; inset:0;
  background:
    linear-gradient(90deg, rgba(5,12,24,.82) 0%, rgba(7,16,30,.66) 34%, rgba(10,18,28,.42) 62%, rgba(12,20,28,.22) 100%),
    url("https://raw.githubusercontent.com/BiofranceEnergies/biofrance-images/1ea92369de57361354807811188559129b45985c/foto%20fond.webp")
    center 35%/cover no-repeat;
  z-index:-1;
}
.hero__inner{
  max-width:var(--maxw); margin:0 auto;
  padding:60px clamp(16px,4vw,40px);
  display:grid; grid-template-columns:1.1fr 0.9fr; gap:clamp(20px,4vw,42px);
  height:100%; align-items:center; color:#fff;
}
@media (max-width:860px){
  .hero__inner{grid-template-columns:1fr;text-align:center;align-items:flex-end;padding-bottom:80px;}
}
.title{margin:0 0 14px;font-weight:900;line-height:1.1;font-size:clamp(28px,4.4vw,52px);color:#fff}
.title em{color:var(--accent);font-style:normal;text-shadow:0 2px 10px rgba(245,158,11,.3);}
.lead{margin:8px 0 0;color:rgba(255,255,255,.92);max-width:54ch;}

.panel{display:flex;flex-direction:column;gap:12px;width:100%;}
.pill{
  display:flex;align-items:center;justify-content:center;min-height:46px;
  background: linear-gradient(180deg, #fbbf24, #f59e0b);
  color:#111827;font-weight:800;border-radius:12px;border:0;
  box-shadow:0 4px 12px rgba(245,158,11,.35), inset 0 -2px 4px rgba(0,0,0,.15);
  padding:14px 16px;
  transition:transform .2s ease, box-shadow .2s ease;
  margin-bottom:10px;
  text-align: center;
  font-size: 20px;
}
.pill:hover{transform:translateY(-1px);box-shadow:0 12px 28px rgba(245,158,11,.32);}
.row{display:flex;flex-direction:column;gap:10px;max-width:900px;margin-inline:auto;}
.rect,.option{
  display:flex;align-items:center;padding:12px 14px;border-radius:12px;
  background:rgba(255,255,255,.08); border:1px solid rgba(255,255,255,.22);
}
input{width:100%;background:transparent;border:0;color:#fff;font:inherit;min-width:0}
header.hero .panel input::placeholder{
  color:#ffffff;background:rgba(0,0,0,.25);padding:4px 6px;border-radius:6px;
  text-shadow:0 0 4px rgba(0,0,0,.5);font-size:15px;
}
input { backdrop-filter: blur(4px); -webkit-backdrop-filter: blur(4px); }

.cta{
  display:inline-flex;align-items:center;justify-content:center;gap:8px;
  min-height:58px;width:100%;
  background:#0f172a; color:#fff; font-weight:900; font-size:17px;
  border:2px solid var(--accent); border-radius:14px; cursor:pointer;
  box-shadow:0 10px 26px rgba(245,158,11,.35), 0 0 12px rgba(245,158,11,.20);
  transition:transform .2s ease, box-shadow .2s ease, filter .2s ease;
  max-width:900px; margin-inline:auto;
}
.cta:hover{transform:translateY(-1px);box-shadow:0 14px 32px rgba(245,158,11,.45), 0 0 14px rgba(245,158,11,.24);}
.cta:focus-visible{outline:2px solid var(--accent);outline-offset:2px;}

/* Logos certifications (héros) */
.certifs{position:absolute;top:18px;left:18px;display:flex;align-items:center;gap:12px;z-index:5;}
.certifs__img{height:36px;width:auto;display:block;filter:drop-shadow(0 1px 3px rgba(0,0,0,.25));}
.certifs__img--main{height:76px;margin:0 3px;}
.certifs__img[src*="qualipv"]{height:44px;}
.certifs__img[src*="RGE.webp"]{height:32px;}
@media (max-width:860px){
  .certifs{top:12px;left:12px;gap:8px;}
  .certifs__img{height:28px;}
  .certifs__img--main{height:52px;}
  .certifs__img[src*="qualipv"]{height:34px;}
  .certifs__img[src*="RGE.webp"]{height:26px;}
}

/* ================== SECTION 3 ÉTAPES ================== */
.steps-2025{background:#fff;padding:clamp(40px,7vw,80px) 16px;color:var(--ink);}
.steps-2025__inner{max-width:var(--maxw);margin:0 auto;text-align:center;}
.steps-2025__title{font-weight:800;font-size:clamp(26px,3.8vw,44px);margin-bottom:6px;}
.steps-2025__subtitle{color:var(--muted);margin-bottom:clamp(28px,5vw,48px);}
.steps-2025__grid{display:grid;gap:clamp(14px,2vw,20px);grid-template-columns:1fr;}
@media(min-width:860px){.steps-2025__grid{grid-template-columns:repeat(3,1fr);}}
.steps-2025__item{
  background:#fff;border:1px solid var(--border);border-radius:16px;
  padding:clamp(18px,2.2vw,24px);
  box-shadow:0 4px 14px rgba(15,23,42,.05);
  display:flex;flex-direction:column;align-items:center;justify-content:center;text-align:center;
}
.steps-2025__num{
  width:72px;height:72px;border-radius:50%;display:grid;place-items:center;
  font-weight:800;color:#fff;background:linear-gradient(135deg,var(--accent),#fdba74);
  box-shadow:0 8px 22px rgba(245,158,11,.25);font-size:22px;margin-bottom:12px;
}
.steps-2025__heading{margin:0;font-weight:800;font-size:clamp(18px,2.2vw,22px);}
.steps-2025__text{margin:6px 0 0;color:var(--muted);font-size:clamp(14px,1.6vw,16px);}
.steps-2025__note{margin:clamp(40px,6vw,60px) 0 0;display:flex;flex-direction:column;align-items:center;gap:18px;}
.steps-2025__note p{font-weight:700;color:var(--ink);font-size:clamp(16px,2vw,20px);}

/* ================== CHIFFRES CLÉS ================== */
.stats-bg{
  width:100vw;margin-left:calc(50% - 50vw);margin-top:clamp(72px,9vw,140px);
  position:relative;padding:clamp(48px,9vw,96px) 16px;color:#fff;overflow:hidden;isolation:isolate;
}
.stats-bg::before{
  content:"";position:absolute;inset:0;
  background:url("https://raw.githubusercontent.com/BiofranceEnergies/biofrance-images/687b0f048a98e03f86e7852020887ff4f05eb913/bande%20panneaux%20full%20black.webp") center/cover no-repeat;
  filter:brightness(1.02) saturate(.95);z-index:-1;
}
.stats-bg__inner{max-width:var(--maxw);margin:0 auto;display:grid;grid-template-columns:1fr;gap:clamp(14px,3vw,20px);text-align:center;}
@media (min-width:820px){.stats-bg__inner{grid-template-columns:repeat(4,1fr);}}
.stat{padding:clamp(10px,2vw,14px);}
.stat__value{font-weight:900;letter-spacing:-.02em;font-size:clamp(34px,5.5vw,56px);line-height:1.05;color:var(--accent);text-shadow:0 2px 10px rgba(0,0,0,.25);}
.stat__label{margin-top:4px;font-size:clamp(14px,1.7vw,16px);color:rgba(255,255,255,.92);text-shadow:0 1px 4px rgba(0,0,0,.25);}

.sr-only{position:absolute !important;width:1px;height:1px;margin:-1px;padding:0;border:0;overflow:hidden;clip:rect(0 0 0 0);clip-path:inset(50%);}

/* ================== AVIS CLIENTS ================== */
.testi{background:#fff;color:var(--ink);margin-top:clamp(40px,6vw,80px);padding:clamp(28px,6vw,60px) 16px;}
.testi__inner{max-width:var(--maxw);margin:0 auto;}
.testi__head{text-align:center;margin-bottom:clamp(18px,3vw,28px);}
.testi__title{font-weight:900;line-height:1.15;font-size:clamp(26px,3.6vw,40px);margin:0 0 8px;}
.testi__meta{color:var(--muted);font-size:clamp(14px,1.8vw,16px);}
.testi__grid{display:grid;gap:clamp(16px,2.6vw,22px);grid-template-columns:1fr;}
@media (min-width:1024px){.testi__grid{grid-template-columns:repeat(3,1fr);}}
.tcard{
  background:#fff;border:1px solid var(--border);border-radius:16px;
  padding:clamp(16px,2.2vw,22px); box-shadow:0 4px 14px rgba(15,23,42,.05);
  display:flex;flex-direction:column;gap:12px;
}
.tcard__top{display:flex;align-items:center;gap:12px;}
.avatar{
  width:44px;height:44px;border-radius:999px;display:grid;place-items:center;
  font-weight:700;color:#111827;background:linear-gradient(180deg,#fff6e5,#ffe4bf);
  border:1px solid #f1c987;
}
.tcard__name{font-weight:800;}
.tcard__loc{color:var(--muted);font-size:14px;margin-top:2px;}
.stars{display:flex;gap:2px;}
.stars svg{width:18px;height:18px}
.tcard__text{color:#334155;font-style:italic}

/* ================== POURQUOI LE SOLAIRE ================== */
.why{background:#f7f9fc;color:var(--ink);padding:clamp(40px,7vw,90px) 16px;margin-top:clamp(40px,6vw,80px);}
.why__inner{max-width:var(--maxw);margin:0 auto;}
.why__head{text-align:center;margin-bottom:clamp(22px,4vw,34px);}
.why__title{font-weight:900;line-height:1.1;font-size:clamp(28px,4vw,48px);margin:0 0 10px;}
.why__subtitle{color:var(--muted);font-size:clamp(14px,1.9vw,18px);}
.why__grid{display:grid;gap:clamp(14px,2.4vw,20px);grid-template-columns:1fr;}
@media (min-width:860px){ .why__grid{grid-template-columns:repeat(2,1fr);} }
@media (min-width:1180px){ .why__grid{grid-template-columns:repeat(4,1fr);} }
.why__card{
  background:#fff;border:1px solid var(--border);border-radius:16px;
  padding:clamp(18px,2.2vw,24px); box-shadow:0 4px 14px rgba(15,23,42,.05);
}
.why__top{display:flex;align-items:center;gap:12px;margin-bottom:10px;}
.why__icon{
  width:42px;height:42px;border-radius:12px;display:grid;place-items:center;flex:0 0 auto;
  background:linear-gradient(180deg,#fff3db,#ffe1b3); border:1px solid #f4c981;color:#b45309;
}
.why__heading{font-weight:800;font-size:clamp(16px,2vw,20px);margin:0;}
.why__text{color:var(--muted);margin:6px 0 0;font-size:clamp(14px,1.7vw,16px);line-height:1.45;}

/* ================== FAQ ================== */
.faq{background:#f7f9fc;color:var(--ink);margin-top:clamp(56px,8vw,96px);padding:clamp(32px,7vw,80px) 16px;}
.faq__inner{max-width:var(--maxw);margin:0 auto;}
.faq__head{text-align:center;margin-bottom:clamp(18px,3.6vw,28px);}
.faq__title{font-weight:900;font-size:clamp(28px,4vw,48px);margin:0 0 8px;line-height:1.1;}
.faq__subtitle{color:var(--muted);font-size:clamp(14px,1.9vw,18px);}
.faq__list{display:grid;gap:12px;}
.faq details{background:#fff;border:1px solid var(--border);border-radius:16px;box-shadow:0 4px 14px rgba(15,23,42,.05);overflow:hidden;}
.faq summary{list-style:none;cursor:pointer;display:flex;align-items:center;gap:10px;padding:18px 20px;font-weight:800;font-size:clamp(15px,1.9vw,17px);color:var(--ink);transition:color .2s ease;}
.faq summary:hover, details[open] summary{color:var(--accent);}
.faq summary::-webkit-details-marker{display:none;}
.faq__chev{margin-left:auto;transition:transform .2s ease;flex:0 0 auto;opacity:.7;}
details[open] .faq__chev{transform:rotate(180deg);opacity:1;}
.faq__panel{padding:0 20px 18px 20px;color:var(--muted);font-size:clamp(14px,1.8vw,16px);line-height:1.55;border-top:1px solid var(--border);background:#fbfbfd;}
.faq{padding-top:clamp(20px,4vw,40px);}
.faq h2{margin-bottom:clamp(10px,2vw,16px);}
.faq__list{margin-top:6px;}

/* =================================================================== */
/* NOUVEAU PIED DE PAGE (Fond noir, image gauche, texte droite) */
/* =================================================================== */
.new-footer {
    background-color: var(--ink); /* <-- FOND NOIR */
    color: #f8fafc; 
    padding: clamp(30px, 6vw, 60px) 16px;
    margin-top:clamp(40px,6vw,80px); /* Ajoute de l'espace au-dessus */
}

.new-footer__inner {
    max-width: 1200px; 
    margin: 0 auto; 
    display: flex;
    flex-wrap: wrap; 
    align-items: flex-start; 
    gap: clamp(20px, 4vw, 40px); 
}

.new-footer__image-wrapper {
    flex: 0 0 auto; 
    width: clamp(120px, 18vw, 200px); 
    max-width: 100%; 
    text-align: center; 
}

.new-footer__logo {
    width: 100%;
    height: auto;
    display: block;
    filter: drop-shadow(0 2px 8px rgba(0,0,0,0.2)); 
}

.new-footer__content {
    flex: 1 1 500px; 
    text-align: right; 
}

.new-footer__text {
    font-size: clamp(14px, 1.8vw, 16px);
    line-height: 1.6;
    margin-bottom: 20px; /* Espace avant le copyright */
    color: #cbd5e1; 
    max-width: 60ch; 
    margin-left: auto; 
}

.new-footer__meta {
    margin-top: 24px;
    border-top: 1px solid rgba(255, 255, 255, 0.1); /* Fine séparation */
    padding-top: 20px;
    display: flex;
    justify-content: space-between;
    align-items: center;
    flex-wrap: wrap; 
    gap: 12px;
}

.new-footer__copy {
    font-size: 13px;
    color: #64748b; 
    margin: 0;
}

/* Style pour le lien "Mentions légales" DANS le footer noir */
.new-footer__legal-link {
    font-size: 13px;
    color: #9ca3af; /* Gris clair */
    text-decoration: none;
    cursor: pointer;
    transition: color 0.2s ease;
}
.new-footer__legal-link:hover {
    color: #fff;
    text-decoration: underline;
}

/* RESPONSIVE pour mobile */
@media (max-width: 768px) {
    .new-footer__inner {
        flex-direction: column; 
        align-items: center; 
        text-align: center;
    }
    .new-footer__image-wrapper {
        margin-bottom: 25px; 
        width: clamp(100px, 30vw, 160px); 
    }
    .new-footer__content {
        text-align: center; 
    }
    .new-footer__text {
        margin-left: auto;
        margin-right: auto; 
        max-width: 80%; 
    }
    .new-footer__meta {
        flex-direction: column-reverse; /* Met le copyright en bas */
        align-items: center;
        border-top: 1px solid rgba(255, 255, 255, 0.1);
        padding-top: 16px;
        margin-top: 16px;
    }
}
/* =================================================================== */
/* FIN DU NOUVEAU PIED DE PAGE */
/* =================================================================== */


/* Mentions légales (POPUP) - L'ancien .legal a été supprimé */
#mentions-popup{display:none;position:fixed;left:50%;bottom:64px;transform:translateX(-50%);width:360px;max-width:95vw;background:#fff;color:var(--ink);border:1px solid var(--border);border-radius:14px;padding:18px 20px 14px;box-shadow:0 10px 36px rgba(2,6,23,.15);z-index:9999;font-size:13px;line-height:1.7}
#close-mentions{position:absolute;top:6px;right:12px;background:none;border:0;color:var(--ink);font-size:20px;font-weight:800;cursor:pointer}

/* === Overlay calcul (étape 1) === */
body.no-scroll{overflow:hidden;}
#calc-overlay{position:fixed;inset:0;background:rgba(2,6,23,.35);backdrop-filter:blur(2px);display:none;z-index:9998;align-items:center;justify-content:center;padding:20px;}
#calc-overlay .panel{width:100%;max-width:360px;background:#fff;color:#111827;border:1px solid var(--border);border-radius:14px;box-shadow:0 10px 36px rgba(2,6,23,.15);padding:18px;text-align:center;outline:none;}
#calc-overlay .spinner{
  width:46px;height:46px;margin:6px auto 12px;border-radius:50%;
  background:conic-gradient(from 0turn at 50% 50%, var(--accent) 0 25%, rgba(245,158,11,0) 25% 100%);
  -webkit-mask: radial-gradient(farthest-side,#0000 62%,#000 63%); mask: radial-gradient(farthest-side,#0000 62%,#000 63%);
  animation: spin360 .9s linear infinite; box-shadow:0 0 0 1px rgba(0,0,0,.04) inset, 0 0 12px rgba(245,158,11,.18);
}
#calc-overlay .spinner::after{
  content:""; position:absolute; inset:0; border-radius:50%;
  background:radial-gradient(circle 6px at 80% 50%, var(--accent), rgba(245,158,11,0) 60%);
  animation: spin360 .9s linear infinite; mix-blend-mode:normal; pointer-events:none;
}
@keyframes spin360{ to { transform: rotate(360deg); } }
#calc-overlay .desc{color:#374151;font-size:14px;margin:0;}

/* ============== MODE RÉSULTAT ============== */
body.results-mode header.hero{height:var(--hero-h-desktop);min-height:var(--hero-min);padding-bottom:0;}
@media (max-width:860px){ body.results-mode header.hero{ height: var(--hero-h-mobile); } }
body.results-mode header.hero::before{opacity:1 !important;}
body.results-mode .panel{margin-bottom:0;}
body.results-mode main > *{display:none !important;}
/* Affiche le #recap ET le new-footer en mode résultat */
body.results-mode main > #recap, body.results-mode .new-footer {display:block !important;}
body.results-mode #recap{display:block !important;margin-top:12px;}

/* ===== Résultats – style 2025 ===== */
.result-card{
  max-width: 860px; margin: 16px auto; padding: 18px;
  background:#fff; color:var(--ink); border:1px solid var(--border);
  border-radius:16px; box-shadow:0 6px 18px rgba(15,23,42,.06);
}
.result-card h2{ margin:0 0 20px; font-weight:900; font-size:clamp(20px,2.4vw,24px); }
.result-grid{ display:grid; gap:12px; grid-template-columns:1fr; }
@media(min-width:780px){ .result-grid{ grid-template-columns:repeat(2,1fr); } }

.kpi{ background:#fff; border:1px solid var(--border); border-radius:12px; padding:12px; }
.kpi .label{ color:#64748b; font-size:13px; margin-bottom:4px; }
.kpi .value{ font-weight:800; font-size:18px; color:var(--ink); }

.kpi--highlight{ position:relative; background:#fff; border-color:var(--border); }
.kpi--highlight::before{
  content:""; position:absolute; left:-1px; top:-1px; bottom:-1px; width:4px;
  border-radius:12px 0 0 12px; background:var(--accent);
}

.financial-banner{
  margin:24px 0 0; padding:18px; text-align:center;
  background:#fffaf2; border:1px solid #fde68a; border-radius:12px; box-shadow:none;
}
.financial-card{
  margin-top:12px; padding:16px; background:#fff; border:1px solid var(--border);
  border-radius:14px; box-shadow:0 6px 18px rgba(15,23,42,.06);
}
.financial-title{ font-size:18px; font-weight:900; margin:0 0 10px; color:var(--ink); }
.tokens{ display:flex; flex-wrap:wrap; gap:8px; margin:8px 0 10px; }
.token{ display:inline-flex; align-items:center; gap:6px; padding:6px 10px; border-radius:999px; border:1px solid var(--border); background:#f8fafc; font-weight:700; }
.note{ color:#64748b; font-size:13px; line-height:1.5; }
.note-alert{ margin-top:10px; padding:10px 12px; background:#fff; border:0; border-radius:10px; }

/* Pavés financiers pleine largeur dans la grille */
.result-grid .financial-banner,
.result-grid .financial-card{ grid-column: 1 / -1; }

/* =================================================================== */
/* MODIFICATION : OVERLAY STYLE ADOUCISSEUR (NOIR, BLEU, STICKY) */
/* =================================================================== */

/* ===== Overlay de déblocage (Style Adoucisseur) ===== */
.lock-zone{ 
  position:relative; /* Le parent est relatif */
}
.lock-zone .lock-blur{
  filter: blur(4px); opacity:.85; pointer-events:none; user-select:none;
  transition:filter .2s ease, opacity .2s ease;
}

/* LE FOND FLOU (le parent) */
.gate-overlay{
  position: absolute; /* <-- ABSOLUTE, PAS 'fixed' */
  inset: 0; 
  z-index: 10;
  display: block; /* <-- BLOCK, PAS 'flex' */
  background: rgba(255, 255, 255, 0.72); /* Le fond verre dépoli */
  backdrop-filter: blur(6px);
  -webkit-backdrop-filter: blur(6px);
  /* overflow-y: hidden; <-- On enlève cette ligne */
  padding: 0; 
}

/* LA CARTE NOIRE (l'enfant) */
.gate-card{
  position: sticky; /* <-- LA VRAIE SOLUTION ! */
  top: 16px; /* <-- Espace depuis le haut de la zone floue */
  margin: 0 auto 24px auto; /* Centré horizontalement */

  width: min(780px, 92vw); /* Largeur de la carte */
  background: #0b1220; 
  color: #fff;
  border: 1px solid rgba(255,255,255,.18);
  border-radius: 16px;
  box-shadow: 0 16px 48px rgba(0,0,0,.28);
  padding: clamp(18px,3vw,28px); 
  text-align: center;
  flex-shrink: 0; 
}

.gate-title{ margin:0 0 6px; font-weight:900; font-size:clamp(20px,2.6vw,26px); color:#fff; }
.gate-sub{ color:#cbd5e1; margin:6px 0 10px; }
.gate-sub strong{ color:#fff; }
.gate-deadline{ color:#f59e0b; font-weight:800; }

/* Grille formulaire gate */
.gate-form{
  display:grid;
  grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
  gap:14px 18px;
  justify-items:center;
  max-width:680px;
  margin:14px auto 0;
}
.gate-form .full{ grid-column:1 / -1; }

/* Champs (Style Adoucisseur) */
.gate-input{
  height:52px; width:100%;
  border-radius:12px;
  border:1px solid rgba(255,255,255,.22);
  background: rgba(255,255,255,.06);
  color:#fff;
  padding:0 14px;
  font:inherit;
  transition:border-color .2s ease, box-shadow .2s ease;
}
.gate-input::placeholder{
  color:#cbd5e1;
  opacity:.85;
}
.gate-input:focus{
  border-color: #93c5fd;
  box-shadow:0 0 0 3px rgba(59,130,246,.38);
  outline:none;
}


/* CTA (Style Adoucisseur) */
.gate-cta{
  --cta-from:#0b4fbf;
  --cta-to:#0a2e70;
  --cta-ring:#93c5fd;

  position:relative;
  display:inline-flex;
  align-items:center; justify-content:center; gap:10px;

  width:min(520px,100%); height:58px;
  padding:0 22px;
  border:1px solid rgba(255,255,255,.28);
  border-radius:14px; cursor:pointer;

  background:linear-gradient(180deg,var(--cta-from),var(--cta-to));
  color: #fff;
  font-weight:900; font-size:16px; letter-spacing:.2px;

  box-shadow:
    0 12px 30px rgba(11,79,191,.35),
    inset 0 2px 4px rgba(255,255,255,.08);
  transition: transform .15s ease, box-shadow .15s ease, filter .15s ease;
  z-index:0;
}
.gate-cta::before{
  content:"";
  position:absolute; inset:-10px -14px;
  border-radius:18px;
  background:radial-gradient(60% 60% at 50% 30%, rgba(11,79,191,.35), transparent 70%);
  filter:blur(18px); opacity:.55;
  z-index:-1; pointer-events:none;
}
.gate-cta:hover{
  transform:translateY(-1px);
  box-shadow:0 16px 36px rgba(11,79,191,.42), inset 0 2px 4px rgba(255,255,255,.08);
}
.gate-cta:active{
  transform:translateY(0);
  filter:saturate(.98);
  box-shadow:0 10px 24px rgba(11,79,191,.32), inset 0 -1px 0 rgba(0,0,0,.10);
}
.gate-cta:focus-visible{
  outline:0;
  box-shadow:
    0 0 0 3px var(--cta-ring),
    0 16px 36px rgba(11,79,191,.42),
    inset 0 2px 4px rgba(255,255,255,.08);
}
.gate-cta[disabled]{
  opacity:.65; cursor:not-allowed; transform:none;
  box-shadow:none;
}
.gate-cta .arrow{
  display:inline-flex; align-items:center; justify-content:center;
  width:26px; height:26px; border-radius:999px;
  background:rgba(255,255,255,.85);
  box-shadow:0 2px 8px rgba(0,0,0,.08) inset;
  font-weight:900; font-size:14px; color:#111827;
}
@media (max-width:480px){
  .gate-cta{ height:56px; }
}

.gate-note{ margin-top:14px; font-size:12px; color:#cbd5e1; }

/* Champs (anti-blur) */
.gate-card .gate-input{
  -webkit-backdrop-filter:none !important;
  backdrop-filter:none !important;
}
.gate-card .gate-input::placeholder{
  text-shadow:none;
  opacity:1;
  color:#cbd5e1;
}
.gate-card .gate-input:focus{
  border-color: #93c5fd;
  box-shadow:0 0 0 3px rgba(59,130,246,.38);
  outline:none;
}

/* Badges confiance (Style Adoucisseur) */
.gate-badges{
  display:flex; flex-wrap:wrap; gap:10px; justify-content:center;
  margin:12px auto 16px; max-width:720px;
}
.badge{
  display:inline-flex; align-items:center; gap:8px;
  padding:10px 14px; border-radius:999px;
  background:rgba(255,255,255,.08);
  border:1px solid rgba(255,255,255,.22);
  box-shadow:0 6px 16px rgba(0,0,0,.1);
  font-weight:700; color:#fff;
}
.badge span{ opacity:.85; font-weight:700; }
.badge b{ font-weight:800; }

/* RGPD inline (Style Adoucisseur) */
.gate-hint{
  max-width:520px;
  margin:8px auto 0;
  font-size:13px;
  line-height:1.45;
  color:#cbd5e1;
  text-align:center;
}
#rgpd-info{ font-weight:600; }

.gate-proof{
  max-width:520px;
  margin:10px auto 0;
  padding:10px 12px;
  border-radius:10px;
  background:#ecfdf5;
  border:1px solid #a7f3d0;
  color:#065f46;
  font-size:14px;
  font-weight:600;
}

/* =================================================================== */
/* FIN DE LA MODIFICATION DE L'OVERLAY */
/* =================================================================== */


/* DEBUT CSS BANDEAU COOKIE */
#consent-banner {
  position: fixed;
  left: 0;
  right: 0;
  bottom: 0;
  background: #fff;
  border-top: 1px solid var(--border);
  color: var(--ink);
  padding: 12px;
  z-index: 9999;
  display: none;
  box-shadow: 0 -6px 26px rgba(0, 0, 0, .12);
  font: 14px/1.5 system-ui, Segoe UI, Roboto;
  min-height: 56px;
  /* Styles pour l'animation d'apparition */
  opacity: 0;
  transform: translateY(10px);
  transition: opacity .18s ease, transform .18s ease;
}
.consent-inner {
  max-width: 900px;
  margin: 0 auto;
  display: flex;
  gap: 14px;
  align-items: center;
  justify-content: space-between;
  flex-wrap: wrap;
}
.consent-text {
  flex: 1 1 520px;
  font-size: 14px;
  color: #374151;
}
.consent-buttons {
  display: flex;
  gap: 10px;
}
#consent-reject {
  padding: 8px 16px;
  border-radius: 999px;
  font-weight: 700;
  cursor: pointer;
  border: none;
  font-size: 14px;
  background: #111827;
  color: #fff;
}
#consent-accept {
  padding: 8px 16px;
  border-radius: 999px;
  font-weight: 700;
  cursor: pointer;
  border: none;
  font-size: 14px;
  background: linear-gradient(180deg, var(--accent), var(--accent-2));
  color: #1b1202;
}
/* FIN CSS BANDEAU COOKIE */

/* === Impression PDF : ne garder que le récap + mentions === */
@media print {
  @page { size: A4; margin: 10mm 14mm; } 

  html, body {
    background: #fff !important;
    color: #111 !important;
    -webkit-print-color-adjust: exact;
    print-color-adjust: exact;
    height: auto !important;
    overflow: visible !important;
  }

  /* Ne garder que le récap */
  header.hero, #consent-banner, .steps-2025, .why, .stats-bg,
  .testi, .faq, .gate-overlay, .certifs, .new-footer { display: none !important; }
  main > *:not(#recap) { display: none !important; }

  /* Mise en page compacte */
  #recap {
    margin: 0 !important;
    padding: 0 !important;
  }

  #recap .result-card {
    border: 0;
    box-shadow: none;
    color: #111;
    padding: 0;
    margin: 0 auto;
    max-width: 100%;
    page-break-after: avoid;
    page-break-before: avoid;
    page-break-inside: avoid;
  }

  /* Réduction des espacements internes */
  #recap .kpi {
    margin: 2mm 0 !important;
    padding: 0 !important;
  }

  #recap .value {
    font-size: 15px !important;
    line-height: 1.3 !important;
  }

  /* Supprime boutons, notes, etc. */
 .gate-cta, .gate-note{ display:none !important; } 
.financial-banner .note{
  display:block !important;
  color:#111 !important;
  font-size:12px !important;
  margin-top:4px !important;
}

  /* En-tête premium */
  .print-header {
    display: block !important;
    margin: 0 0 6mm 0 !important;
    page-break-after: avoid;
  }

  /* Pas de coupure sur les cartes de résultat */
  #recap * {
    page-break-before: avoid !important;
    page-break-after: avoid !important;
    page-break-inside: avoid !important;
  }
}

/* === HOTFIX MOBILE (≤860px) — résultats après téléphone uniquement === */
@media (max-width: 860px){

  /* conteneur */
  body.results-mode #recap{
    padding: 0 12px !important;
    margin: 12px auto !important;
    width: 100% !important;
    max-width: 100% !important;
    box-sizing: border-box !important;
    /* overflow-x: hidden !important; <-- LA LIGNE FAUTIVE EST BIEN SUPPRIMÉE */
  }

  /* carte + grille = 1 colonne, jamais 2, jamais de rognage */
  body.results-mode #recap .result-card{
    padding: 12px !important;
    margin: 12px 0 !important;
    width: 100% !important;
    max-width: 100% !important;
    box-sizing: border-box !important;
    overflow: visible !important;
  }

  body.results-mode #recap .result-grid{
    display: grid !important;
    grid-template-columns: 1fr !important;
    gap: 12px !important;
    background: none !important;
    overflow: visible !important;
  }

  /* tous les blocs internes = largeur fluide */
  body.results-mode #recap .kpi,
  body.results-mode #recap .financial-card,
  body.results-mode #recap .financial-banner{
    display: block !important;
    width: 100% !important;
    max-width: 100% !important;
    margin-left: 0 !important;
    margin-right: 0 !important;
    box-sizing: border-box !important;
    overflow: visible !important;
  }

  /* pas de pseudo-ornements qui coupent */
  body.results-mode #recap .result-card::before,
  body.results-mode #recap .result-card::after,
  body.results-mode #recap .result-grid::before,
  body.results-mode #recap .result-grid::after{
    content: none !important;
    display: none !important;
  }

  /* empêcher toute chaîne longue de créer un débordement */
  body.results-mode #recap *,
  body.results-mode #recap .kpi .value,
  body.results-mode #recap .note{
    min-width: 0 !important;
    white-space: normal !important;
    overflow-wrap: anywhere !important;
    word-break: break-word !important;
  }

  /* les pastilles “token” doivent pouvoir revenir à la ligne */
  body.results-mode #recap .tokens{ flex-wrap: wrap !important; }
  body.results-mode #recap .token{
    white-space: normal !important;
    overflow-wrap: anywhere !important;
    max-width: 100% !important;
  }

  /* CTA PDF et divers */
  body.results-mode #recap .gate-cta{
    width: 100% !important;
    height: 54px !important;
  }

  /* sur tous petits écrans */
  @media (max-width: 480px){
    body.results-mode #recap .kpi{ padding: 10px !important; margin: 6px 0 !important; }
    body.results-mode #recap .kpi .value{ font-size: 15px !important; line-height: 1.3 !important; }
    body.results-mode #recap .financial-card,
    body.results-mode #recap .financial-banner{ padding: 12px !important; }
  }
}
